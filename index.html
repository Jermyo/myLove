<!-- <!DOCTYPE html> -->
<html>
<head>
	<meta charset="utf-8">
	<title>Love</title>
	<link href="https://fonts.googleapis.com/css?family=Lobster+Two:700i" rel="stylesheet">

	<script src='js/echarts.js'></script>
	<script src='js/echarts-liquidfill.js'></script>
	<link rel="stylesheet" href="css/animations.css">
	<style>
	.triangle_border_left{
		width:0;
		height:0;
		border-width:30px 30px 30px 0;
		border-style:solid;
		border-color:transparent #333 transparent transparent;/*透明 灰 透明 透明 */
		float: right;
    	margin-top: 10px;
		margin-right: 25%;
		position:relative;
	}
	.triangle_border_left span{
		display:block;
		width:0;
		height:0;
		border-width:28px 28px 28px 0;
		border-style:solid;
		border-color:transparent purple transparent transparent;/*透明 黄 透明 透明 */
		position:absolute;
		top:-28px;
		left:1px;
	}
	.triangle_border_right{
		width:0;
		height:0;
		border-width:30px 0 30px 30px;
		border-style:solid;
		border-color:transparent transparent transparent #333;/*透明 透明 透明 灰*/
		float: left;
    	margin-top: 10px;
		margin-left: 25%;
		position:relative;
	}
	.triangle_border_right span{
		display:block;
		width:0;
		height:0;
		border-width:28px 0 28px 28px;
		border-style:solid;
		border-color:transparent transparent transparent purple;/*透明 透明 透明 黄*/
		position:absolute;
		top:-28px;
		left:-29px;
	}
	#demo{position: absolute; left: 50%; top: 50%; margin:0 0 0 -200px;}
	#clickme p{
		display: inline-block;margin-top: 25px;
	}
	.is-animate.style3 > p { animation-name: style3; }

	.is-animate.style1 > p { animation-name: style1; }
	.is-animate > p {
		animation-duration: 1s;
		animation-fill-mode: both;
		animation-iteration-count: infinite;
	}
	.is-animate > p:nth-child(1) { animation-delay: 0.0s }
	.is-animate > p:nth-child(2) { animation-delay: 0.1s }
	.is-animate > p:nth-child(3) { animation-delay: 0.2s }
	.is-animate > p:nth-child(4) { animation-delay: 0.3s }
	.is-animate > p:nth-child(5) { animation-delay: 0.4s }
	.is-animate > p:nth-child(6) { animation-delay: 0.5s }
	</style>
</head>

<body>
	<div id='main' style="height:45%;"></div>
	<div id='rose' style="background-color:pink;height:55%;">
		<div id='mywords' class="is-animate style3" style="font-size: 80px;color:purple;position: absolute;right: 15%;"></div>
		<canvas id="c" style="margin-top:30px;"></canvas>
		<div id='clickme' class="is-animate style1" style="font-size: 60px;color:purple;text-align:center;margin-top:10%;"></div>
		<script>
			function showRose() {
				setInterval('for(i=0;i<1e4;i++)if(s=p(R(),R(),i%46/.74)){z=s[2];x=~~(s[0]*f/z-h);y=~~(s[1]*f/z-h);if(!m[q=y*f+x]|m[q]>z)m[q]=z,a.fillStyle="rgb("+~(s[3]*h)+","+~(s[4]*h)+","+~(s[3]*s[3]*-80)+")",a.fillRect(x,y,1,1)}', 0);
				setTimeout(function(){
					document.getElementById("mywords").innerHTML = '<p>我</p><p>爱</p><p>你</p>';
				},1000);
				setTimeout(function(){
					document.getElementById("clickme").innerHTML = '<div class="triangle_border_right"><span></span></div><p>我</p>&nbsp;<p>在</p>&nbsp;<p>这</p>&nbsp;<p>喔</p><div class="triangle_border_left"><span></span></div>';
					document.getElementById("clickme").addEventListener("click",IsMe);
				}, 3000);
			}
			var b = document.body;
			var c = document.getElementsByTagName('canvas')[0];
			var a = c.getContext('2d');
			document.body.clientWidth;

			with (m = Math)
			C = cos, S = sin, P = pow, R = random;
			c.width = c.height = f = 613;
			h = -250;
			function p(a, b, c) {
				if (c > 60)
					return [S(a * 7) * (13 + 5 / (.2 + P(b * 4, 4))) - S(b) * 50,
					b * f + 50,
					625 + C(a * 7) * (13 + 5 / (.2 + P(b * 4, 4))) + b * 400,
					a * 1 - b / 2, a];
				A = a * 2 - 1;
				B = b * 2 - 1;
				if (A * A + B * B < 1) { if (c > 37) { n = (j = c & 1) ? 6 : 4; o = .5 / (a + .01) + C(b * 125) * 3 - a * 300; w = b * h; return [o * C(n) + w * S(n) + j * 610 - 390, o * S(n) - w * C(n) + 550 - j * 350, 1180 + C(B + A) * 99 - j * 300, .4 - a * .1 + P(1 - B * B, -h * 6) * .15 - a * b * .4 + C(a + b) / 5 + P(C((o * (a + 1) + (B > 0 ? w : -w)) / 25), 30) * .1 * (1 - B * B), o / 1e3 + .7 - o * w * 3e-6] } if (c > 32) { c = c * 1.16 - .15; o = a * 45 - 20; w = b * b * h; z = o * S(c) + w * C(c) + 620; return [o * C(c) - w * S(c), 28 + C(B * .5) * 99 - b * b * b * 60 - z / 2 - h, z, (b * b * .3 + P((1 - (A * A)), 7) * .15 + .3) * b, b * .7] } o = A * (2 - b) * (80 - c * 2); w = 99 - C(A) * 120 - C(b) * (-h - c * 4.9) + C(P(1 - b, 7)) * 50 + c * 2; z = o * S(c) + w * C(c) + 700; return [o * C(c) - w * S(c), B * 99 - C(P(b, 7)) * 50 - c / 3 - z / 1.35 + 450, z, (1 - b / 1.2) * .9 + a * .1, P((1 - b), 20) / 4 + .05] }
			}
		</script>
	</div>

	<script>
		var bgColor = '#E3F7FF';
		var myChart = echarts.init(document.getElementById('main'));
		var beginTime = null;
		var clicks = 0;
		var TOTAL_CLICKS = 100;

		var option = {
			series: [{
				color: ['#FFBFE5', '#EA88CE', '#DE52B4', '#C42795'],
				type: 'liquidFill',
				animationDurationUpdate: 200,
				data: getData(clicks),
				radius: '80%',
				outline: {
					show: false
				},
				backgroundStyle: {
					borderColor: '#A31180',
					borderWidth: 1,
					shadowColor: 'rgba(234, 136, 206, 0.8)',
					shadowBlur: 100,
					color: '#FEF9FF'
				},
				itemStyle: {
					normal: {
						opacity: 0.6,
						shadowColor: 'rgba(234, 136, 206, 0.2)'
					}
				},
				shape: 'path://M24.85,10.126c2.018-4.783,6.628-8.125,11.99-8.125c7.223,0,12.425,6.179,13.079,13.543c0,0,0.353,1.828-0.424,5.119c-1.058,4.482-3.545,8.464-6.898,11.503L24.85,48L7.402,32.165c-3.353-3.038-5.84-7.021-6.898-11.503c-0.777-3.291-0.424-5.119-0.424-5.119C0.734,8.179,5.936,2,13.159,2C18.522,2,22.832,5.343,24.85,10.126z',
				label: {
					normal: {
						position: ['50%', '45%'],
						formatter: function () {
							if (clicks === 0) {
								return '开始游戏\n\n点我点我';
							}
							else if (clicks >= TOTAL_CLICKS) {
								showRose();
								return '祝我最爱的\n\n贞贞\n\n情人节快乐！';
							}
							else {
								var elapsed = new Date() - beginTime;
								return Math.floor(clicks / TOTAL_CLICKS * 100) + '%\n'
									+ (elapsed / 1000) + 's' + '\n\n\n装满我吧';
							}
						},
						textStyle: {
							fontSize: 28,
							color: '#A31180'
						}
					}
				}
			}]
		};
		myChart.setOption(option);
		document.onclick = function () {
			if (clicks < TOTAL_CLICKS) {
				if (clicks === 0) {
					beginTime = new Date();
				}

				// ++clicks;
				clicks+=10;
				myChart.setOption({
					series: [{
						data: getData(clicks)
					}]
				});
			}
		};

		function getData(clicks) {
			var value = clicks / TOTAL_CLICKS;
			return [
				value,
				value - 0.02,
				value - 0.04,
				value - 0.06
			];
		};
		
		function IsMe(){
			document.getElementById("rose").innerHTML = '<canvas id="demo" width="400" height="500">当前浏览器不支持canvas绘制图像</canvas>';
			funLoad();
		}
		function funLoad(){
			var cxt = document.getElementById('demo').getContext('2d') ;
			cxt.beginPath() ;
			cxt.lineWidth = 2 ;
			cxt.strokeStyle = 'gray' ;
			cxt.moveTo(33,43) ;
			cxt.quadraticCurveTo(55,40,124,73) ;
			cxt.moveTo(33,43) ;
			cxt.lineTo(68,140) ;
			cxt.moveTo(33,43) ;
			cxt.quadraticCurveTo(73,92,89,130) ;
			cxt.quadraticCurveTo(75,127,81,136) ;
			cxt.lineTo(73,136) ;
			cxt.lineTo(74,139) ;
			cxt.quadraticCurveTo(36,164,24,213) ;
			cxt.bezierCurveTo(52,215,49,223,41,233) ;
			cxt.quadraticCurveTo(61,235,76,243) ;
			cxt.bezierCurveTo(88,350,290,350,309,252) ;
			cxt.quadraticCurveTo(320,239,353,234) ;
			cxt.bezierCurveTo(338,223,354,215,371,214) ;
			cxt.quadraticCurveTo(360,169,325,144) ;
			cxt.lineTo(333,121) ;
			cxt.quadraticCurveTo(317,100,341,97) ;
			cxt.lineTo(361,43) ;
			cxt.quadraticCurveTo(307,48,266,75) ;
			cxt.moveTo(361,43) ;
			cxt.quadraticCurveTo(332,72,304,133) ;
			cxt.quadraticCurveTo(318,127,313,134) ;
			cxt.quadraticCurveTo(323,132,318,140) ;
			cxt.quadraticCurveTo(324,136,325,144)
			cxt.moveTo(266,75) ;
			cxt.quadraticCurveTo(265,90,243,94) ;
			cxt.lineTo(133,112) ;
			cxt.quadraticCurveTo(90,116,107,91) ;
			cxt.quadraticCurveTo(147,29,223,27) ;
			cxt.quadraticCurveTo(272,38,266,75) ;
			cxt.moveTo(107,91) ;
			cxt.quadraticCurveTo(111,110,144,100) ;
			cxt.lineTo(244,80) ;
			cxt.quadraticCurveTo(264,76,267,61) ;
			cxt.moveTo(196,30) ;
			cxt.lineTo(176,51) ;
			cxt.quadraticCurveTo(224,43,240,66) ;
			cxt.quadraticCurveTo(252,55,264,53) ;
			cxt.moveTo(186,38) ;
			cxt.lineTo(198,37) ;
			cxt.moveTo(176,43) ;
			cxt.lineTo(190,43) ;
			cxt.moveTo(186,53) ;
			cxt.lineTo(194,45) ;
			cxt.moveTo(200,45) ;
			cxt.lineTo(196,54) ;
			cxt.moveTo(210,47) ;
			cxt.lineTo(205,54) ;
			cxt.moveTo(219,49) ;
			cxt.lineTo(213,54) ;
			cxt.moveTo(229,50) ;
			cxt.lineTo(222,59) ;
			cxt.moveTo(237,52) ;
			cxt.lineTo(232,65) ;
			cxt.moveTo(244,56) ;
			cxt.lineTo(250,66) ;
			cxt.moveTo(252,52) ;
			cxt.lineTo(261,62) ;
			cxt.stroke() ;
			cxt.beginPath() ;
			cxt.lineWidth = 10 ;
			cxt.moveTo(99,123) ;
			cxt.lineTo(169,164) ;
			cxt.moveTo(220,172) ;
			cxt.lineTo(291,130) ;
			cxt.stroke() ;
			cxt.beginPath() ;
			cxt.lineWidth = 2 ;
			cxt.moveTo(88,168) ;
			cxt.lineTo(174,188) ;
			cxt.moveTo(212,180) ;
			cxt.lineTo(297,199) ;
			cxt.moveTo(87,173) ;
			cxt.lineTo(126,286) ;
			cxt.moveTo(80,204) ;
			cxt.lineTo(108,191) ;
			cxt.moveTo(91,220) ;
			cxt.lineTo(111,211) ;
			cxt.moveTo(96,236) ;
			cxt.lineTo(114,226) ;
			cxt.moveTo(106,248) ;
			cxt.lineTo(119,243) ;
			cxt.moveTo(106,267) ;
			cxt.lineTo(124,259) ;
			cxt.moveTo(117,276) ;
			cxt.lineTo(126,272) ;
			cxt.moveTo(106,171) ;
			cxt.bezierCurveTo(109,200,142,204,159,185) ;
			cxt.moveTo(230,184) ;
			cxt.bezierCurveTo(233,210,267,218,284,197) ;
			cxt.moveTo(123,253) ;
			cxt.quadraticCurveTo(193,275,272,253) ;
			cxt.bezierCurveTo(260,300,120,290,123,253) ;
			cxt.stroke() ;
			cxt.beginPath() ;
			cxt.lineWidth = 1 ;
			cxt.moveTo(125,260) ;
			cxt.lineTo(134,263) ;
			cxt.lineTo(136,259) ;
			cxt.lineTo(139,265) ;
			cxt.lineTo(155,270) ;
			cxt.moveTo(237,270) ;
			cxt.lineTo(252,266) ;
			cxt.lineTo(254,258) ;
			cxt.lineTo(258,264) ;
			cxt.lineTo(268,261) ;
			cxt.stroke() ;
			cxt.beginPath() ;
			cxt.lineWidth = 2 ;
			cxt.fillStyle = 'black' ; 
			cxt.save() ;
			cxt.translate(133,179) ;
			cxt.rotate(Math.PI*2/20) ;
			cxt.arc(0,0,5,3,Math.PI*2,true) ;
			cxt.fill() ;
			cxt.restore() ;
			cxt.beginPath() ;
			cxt.save() ;
			cxt.translate(254,190) ;
			cxt.rotate(Math.PI*2/20) ;
			cxt.arc(0,0,5,3,Math.PI*2,true) ;
			cxt.fill() ;
			cxt.restore() ;
			cxt.beginPath() ;
			cxt.moveTo(190,212) ;
			cxt.bezierCurveTo(150,214,150,246,190,246) ;
			cxt.bezierCurveTo(230,246,230,214,190,212) ;
			cxt.fill() ;
			cxt.beginPath() ;
			cxt.fillStyle = '#fff' ;
			cxt.moveTo(162,224) ;
			cxt.quadraticCurveTo(171,212,180,224);
			cxt.quadraticCurveTo(171,234,162,224);
			cxt.fill() ;
			cxt.beginPath() ;
			cxt.moveTo(119,306) ;
			cxt.quadraticCurveTo(132,334,205,363) ;
			cxt.quadraticCurveTo(256,334,264,310) ;
			cxt.moveTo(110,300) ;
			cxt.quadraticCurveTo(86,334,81,370) ;
			cxt.quadraticCurveTo(67,371,66,394) ;
			cxt.bezierCurveTo(60,418,71,427,76,421) ;
			cxt.moveTo(76,399) ;
			cxt.bezierCurveTo(70,419,85,434,89,421) ;
			cxt.quadraticCurveTo(79,414,85,399) ;
			cxt.moveTo(89,421) ;
			cxt.bezierCurveTo(98,430,102,430,99,400) ;
			cxt.moveTo(101,410) ;
			cxt.quadraticCurveTo(119,419,112,400) ;
			cxt.bezierCurveTo(105,388,114,378,101,371) ;
			cxt.moveTo(100,376) ;
			cxt.quadraticCurveTo(109,324,126,315) ;
			cxt.moveTo(280,299) ;
			cxt.quadraticCurveTo(310,340,312,371) ;
			cxt.quadraticCurveTo(326,376,326,398) ;
			cxt.bezierCurveTo(330,415,326,426,318,420) ;
			cxt.moveTo(317,399) ;
			cxt.bezierCurveTo(323,419,313,433,305,422) ;
			cxt.moveTo(309,400) ;
			cxt.bezierCurveTo(310,425,291,442,292,403) ;
			cxt.moveTo(292,410) ;
			cxt.bezierCurveTo(284,416,274,413,282,397) ;
			cxt.quadraticCurveTo(280,375,293,371) ;
			cxt.moveTo(294,376) ;
			cxt.quadraticCurveTo(289,338,267,314) ;
			cxt.stroke() ;
			cxt.beginPath() ;
			cxt.lineWidth = 3 ;
			cxt.moveTo(127,319) ;
			cxt.bezierCurveTo(90,470,310,460,262,317) ;
			cxt.moveTo(188,389) ;
			cxt.lineTo(197,399) ;
			cxt.moveTo(190,402) ;
			cxt.lineTo(195,391) ;
			cxt.stroke() ;
			cxt.beginPath() ;
			cxt.save() ;
			cxt.translate(194,396) ;
			cxt.arc(0,0,10,1,Math.PI*2,false) ;
			cxt.restore() ;
			cxt.stroke() ;
			cxt.beginPath() ;
			cxt.lineWidth = 2 ;
			cxt.moveTo(144,406) ;
			cxt.lineTo(127,434) ;
			cxt.lineTo(136,449) ;
			cxt.moveTo(152,417) ;
			cxt.lineTo(142,434) ;
			cxt.moveTo(139,431) ;
			cxt.lineTo(151,450) ;
			cxt.bezierCurveTo(110,441,90,464,105,476) ;
			cxt.lineTo(156,476) ;
			cxt.bezierCurveTo(175,473,170,459,151,450) ;
			cxt.moveTo(126,455) ;
			cxt.quadraticCurveTo(106,456,108,474) ;
			cxt.moveTo(139,457) ;
			cxt.quadraticCurveTo(121,459,125,474) ;
			cxt.moveTo(244,416) ;
			cxt.lineTo(252,433) ;
			cxt.moveTo(255,430) ;
			cxt.lineTo(245,450) ;
			cxt.moveTo(254,406) ;
			cxt.lineTo(269,433) ;
			cxt.lineTo(261,448) ;
			cxt.bezierCurveTo(218,456,220,472,234,475) ;
			cxt.lineTo(289,475) ;
			cxt.bezierCurveTo(304,467,302,452,261,448) ;
			cxt.moveTo(255,457) ;
			cxt.quadraticCurveTo(275,461,268,474) ;
			cxt.moveTo(270,455) ;
			cxt.quadraticCurveTo(291,462,285,474) ;
			cxt.moveTo(198,428) ;
			cxt.quadraticCurveTo(203,453,228,458) ;
			cxt.moveTo(236,453) ;
			cxt.bezierCurveTo(213,440,214,437,248,448) ;
			cxt.bezierCurveTo(230,430,230,428,251,433) ;
			cxt.moveTo(275,450) ;
			cxt.quadraticCurveTo(287,432,287,416) ;
			cxt.quadraticCurveTo(270,420,255,412) ;
			cxt.stroke() ;
		}
	</script>
</body>

</html>